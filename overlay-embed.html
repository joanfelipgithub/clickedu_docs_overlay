<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document Overlay Embed</title>
    <style>
        /* Ensures the content fits neatly inside the Google Site iframe */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        /* Style for the overlay to prevent scrolling issues within the iframe */
        .overlay-container {
            position: absolute; /* Changed from 'fixed' to 'absolute' */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
            box-sizing: border-box;
        }
        .docs-grid {
            background-color: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.4);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            max-width: 1000px;
            width: 90%;
        }
        .doc-button {
            padding: 15px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 12px;
            border: none;
            background-color: #007bff;
            color: #fff;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            transition: 0.2s;
        }
        .doc-button:hover {
            background-color: #0056b3 !important;
        }
    </style>
</head>
<body>
    <button id="showOverlayBtn" style="padding: 10px 20px; font-size: 16px; cursor: pointer; border-radius: 8px; border: 1px solid #007bff; background-color: #007bff; color: white;">
        Show Documents Overlay
    </button>

    <script>
    document.getElementById('showOverlayBtn').onclick = function() {
        // 1. Document Data
        const docs = [
            { url: "https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D47_POC_PL_Projecte_linguistic_de_centre1.docx", label: "Projecte Linguístic de Centre" },
            { url: "https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D77_POC_PEC8.docx", label: "POC PEC8" },
            { url: "https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D87_POC_OC_Organigrama_del_centre.docx", label: "Organigrama del Centre" },
            { url: "https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D25_GRE_FI_Fotocopies_i_Impressions.docx", label: "Fotocòpies i Impressió" },
            { url: "https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D19_GRL_PPBA_Planol_planta_baixa_A.docx", label: "Planta Baixa A" },
            { url: "https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D20_GRL_PP1B_Planol_planta_1B.docx", label: "Planta 1B" },
            { url: "https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D21_GRL_PPS_Planol_planta_soterrani.docx", label: "Planta Soterrani" }
        ];

        // 2. Create Overlay Element (using class for styling)
        const overlay = document.createElement("div");
        overlay.className = "overlay-container";
        
        // 3. Event Listeners for Closing
        overlay.addEventListener("click", (e) => {
            if (e.target === overlay) closeOverlay();
        });

        function escListener(e) {
            if (e.key === "Escape") closeOverlay();
        }
        document.addEventListener("keydown", escListener);

        function closeOverlay() {
            if (document.body.contains(overlay)) {
                document.body.removeChild(overlay);
                document.removeEventListener("keydown", escListener);
            }
        }

        // 4. Create Document Container Grid
        const container = document.createElement("div");
        container.className = "docs-grid";

        // 5. Populate Buttons
        docs.forEach(doc => {
            const btn = document.createElement("button");
            btn.textContent = doc.label;
            btn.className = "doc-button";
            
            // Re-adding the hover effects via JS since :hover is unreliable in all iframe contexts
            btn.onmouseover = () => btn.style.backgroundColor = "#0056b3";
            btn.onmouseout = () => btn.style.backgroundColor = "#007bff";

            // Click event: Opens document in a new tab/window
            btn.onclick = () => window.open(doc.url, '_blank'); 

            container.appendChild(btn);
        });

        // 6. Append and Display
        overlay.appendChild(container);
        document.body.appendChild(overlay);
    };
    </script>
</body>
</html>
