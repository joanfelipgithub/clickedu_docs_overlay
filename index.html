<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>Clickedu ‚Äì bookmarklet for the Documents overlay</title>
  <style>
    body{font-family:Arial,sans-serif;margin:2rem;background:#f5f5f5;color:#333}
    .container{max-width:720px;margin:auto}
    .bookmarklet{
      display:inline-block;background:#007bff;color:#fff;
      padding:.6rem 1rem;border-radius:6px;text-decoration:none;
      font-weight:bold;margin-top:1rem;
    }
    .bookmarklet:hover{background:#0056b3}
    #copyBox{
      width:100%;padding:.5rem;font-size:0.9rem;
      margin-top:0.5rem;box-sizing:border-box;
    }
    #copyBtn{
      margin-top:.5rem;padding:.4rem .8rem;background:#28a745;
      color:#fff;border:none;border-radius:4px;cursor:pointer;
    }
    #copyBtn:hover{background:#218838}
  </style>
</head>
<body>
<div class="container">
  <h1>Clickedu ‚Äì Documents overlay</h1>

  <p>
    1Ô∏è‚É£ <strong>Drag the orange button below to your browser‚Äôs bookmarks bar</strong> (or use the copy‚Äëto‚Äëclipboard box).  
    This stores a **bookmarklet** that will run on Clickedu.
  </p>

  <!-- ------------- DRAG‚ÄëTO‚ÄëBOOKMARKS ------------- -->
  <a class="bookmarklet"
     href="javascript:(function(){/* guard ‚Äì only on the right page */if(!location.href.includes('insscf.clickedu.eu/sumari/index.php?p=links')){alert('‚ö†Ô∏è This bookmarklet works only on the Clickedu ‚Äúlinks‚Äù page.');return;}/* hide the unwanted element (XPath you gave) */(function(){var x='/html/body/div[3]/div/div/div[1]/div/div/div/div[2]/div/div[1]/div/div[13]/div',n=document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;n&& (n.style.display='none');})();/* create floating button */var b=document.createElement('button');b.textContent='üìÇ‚ÄØMostrar documents';Object.assign(b.style,{position:'fixed',top:'10px',right:'10px',zIndex:9999,padding:'10px 15px',background:'#007bff',color:'#fff',border:'none',borderRadius:'8px',cursor:'pointer',boxShadow:'0 2px 4px rgba(0,0,0,.2)',transition:'background .2s,opacity .3s',fontWeight:'bold',opacity:'1'});b.onmouseover=function(){b.style.background='#0056b3'};b.onmouseout=function(){b.style.background='#007bff'};document.body.appendChild(b);/* overlay logic + opacity toggle */var overlayVisible=!1;b.onclick=function(){if(overlayVisible){closeOverlay();b.style.opacity='1';return;}overlayVisible=!0;b.style.opacity='0.2';/* build overlay */var o=document.createElement('div');Object.assign(o.style,{position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.6)',zIndex:9998,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',padding:'20px',overflowY:'auto'});o.addEventListener('click',function(e){e.target===o&&closeOverlay()});document.addEventListener('keydown',esc);function esc(e){e.key==='Escape'&&closeOverlay()}function closeOverlay(){o.remove();document.removeEventListener('keydown',esc);overlayVisible=!1;b.style.opacity='1'}/* docs data */var d=[{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D47_POC_PL_Projecte_linguistic_de_centre1.docx',l:'Projecte Lingu√≠stic de Centre'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D77_POC_PEC8.docx',l:'POC‚ÄØPEC8'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D87_POC_OC_Organigrama_del_centre.docx',l:'Organigrama del Centre'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D25_GRE_FI_Fotocopies_i_Impressions.docx',l:'Fotoc√≤pies i Impressi√≥'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D19_GRL_PPBA_Planol_planta_baixa_A.docx',l:'Planta Baixa‚ÄØA'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D20_GRL_PP1B_Planol_planta_1B.docx',l:'Planta‚ÄØ1B'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D21_GRL_PPS_Planol_planta_soterrani.docx',l:'Planta Soterrani'}];/* build grid */var g=document.createElement('div');Object.assign(g.style,{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(280px,1fr))',gap:'15px',maxWidth:'1200px',width:'100%'});d.forEach(function(i){var c=document.createElement('button');c.textContent=i.l;Object.assign(c.style,{padding:'15px',fontSize:'16px',cursor:'pointer',borderRadius:'12px',border:'none',background:'#007bff',color:'#fff',boxShadow:'0 4px 6px rgba(0,0,0,0.2)',transition:'background .2s'});c.onmouseover=function(){c.style.background='#0056b3'};c.onmouseout=function(){c.style.background='#007bff'};c.onclick=function(){window.open(i.u,'_blank')};g.appendChild(c)});o.appendChild(g);document.body.appendChild(o)};})();"
     title="Drag me to your bookmarks bar">
     üìÇ‚ÄØClick‚Äëedu Docs overlay (opacity‚Äëtoggle)
  </a>

  <p style="margin-top:1rem;">
    2Ô∏è‚É£ <strong>Copy‚Äëto‚Äëclipboard</strong> (useful on mobile or when dragging is disabled).  
    Click the **Copy** button ‚Äì the bookmarklet URL is placed on the clipboard; then create a new bookmark manually and paste it.
  </p>

  <textarea id="copyBox" rows="3" readonly>javascript:(function(){/* guard ‚Äì only on the right page */if(!location.href.includes('insscf.clickedu.eu/sumari/index.php?p=links')){alert('‚ö†Ô∏è This bookmarklet works only on the Clickedu ‚Äúlinks‚Äù page.');return;}/* hide the unwanted element (XPath you gave) */(function(){var x='/html/body/div[3]/div/div/div[1]/div/div/div/div[2]/div/div[1]/div/div[13]/div',n=document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;n&& (n.style.display='none');})();/* create floating button */var b=document.createElement('button');b.textContent='üìÇ‚ÄØMostrar documents';Object.assign(b.style,{position:'fixed',top:'10px',right:'10px',zIndex:9999,padding:'10px 15px',background:'#007bff',color:'#fff',border:'none',borderRadius:'8px',cursor:'pointer',boxShadow:'0 2px 4px rgba(0,0,0,.2)',transition:'background .2s,opacity .3s',fontWeight:'bold',opacity:'1'});b.onmouseover=function(){b.style.background='#0056b3'};b.onmouseout=function(){b.style.background='#007bff'};document.body.appendChild(b);/* overlay logic + opacity toggle */var overlayVisible=!1;b.onclick=function(){if(overlayVisible){closeOverlay();b.style.opacity='1';return;}overlayVisible=!0;b.style.opacity='0.2';var o=document.createElement('div');Object.assign(o.style,{position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.6)',zIndex:9998,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',padding:'20px',overflowY:'auto'});o.addEventListener('click',function(e){e.target===o&&closeOverlay()});document.addEventListener('keydown',esc);function esc(e){e.key==='Escape'&&closeOverlay()}function closeOverlay(){o.remove();document.removeEventListener('keydown',esc);overlayVisible=!1;b.style.opacity='1'}var d=[{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D47_POC_PL_Projecte_linguistic_de_centre1.docx',l:'Projecte Lingu√≠stic de Centre'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D77_POC_PEC8.docx',l:'POC‚ÄØPEC8'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D87_POC_OC_Organigrama_del_centre.docx',l:'Organigrama del Centre'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D25_GRE_FI_Fotocopies_i_Impressions.docx',l:'Fotoc√≤pies i Impressi√≥'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D19_GRL_PPBA_Planol_planta_baixa_A.docx',l:'Planta Baixa‚ÄØA'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D20_GRL_PP1B_Planol_planta_1B.docx',l:'Planta‚ÄØ1B'},{u:'https://insscf.clickedu.eu/private/insscf.clickedu.eu/arxius/carpetes/documents_validats/39/D21_GRL_PPS_Planol_planta_soterrani.docx',l:'Planta Soterrani'}];var g=document.createElement('div');Object.assign(g.style,{display:'grid',gridTemplateColumns:'repeat(auto-fit,minmax(280px,1fr))',gap:'15px',maxWidth:'1200px',width:'100%'});d.forEach(function(i){var c=document.createElement('button');c.textContent=i.l;Object.assign(c.style,{padding:'15px',fontSize:'16px',cursor:'pointer',borderRadius:'12px',border:'none',background:'#007bff',color:'#fff',boxShadow:'0 4px 6px rgba(0,0,0,0.2)',transition:'background .2s'});c.onmouseover=function(){c.style.background='#0056b3'};c.onmouseout=function(){c.style.background='#007bff'};c.onclick=function(){window.open(i.u,'_blank')};g.appendChild(c)});o.appendChild(g);document.body.appendChild(o)};})();</textarea>
  <button id="copyBtn">Copy to clipboard</button>

  <script>
    // copy‚Äëto‚Äëclipboard helper (same as before)
    document.getElementById('copyBtn').addEventListener('click',function(){
      const ta=document.getElementById('copyBox');
      ta.select();
      ta.setSelectionRange(0,99999); // iOS
      navigator.clipboard.writeText(ta.value).then(()=>{
        alert('Bookmarklet URL copied! Now create a new bookmark and paste the URL.');
      }).catch(()=>{
        document.execCommand('copy');
        alert('Bookmarklet copied (fallback). Create a new bookmark and paste it.');
      });
    });
  </script>

  <hr style="margin:2rem 0;">
  <p><small>All code runs **inside** the Clickedu page, so the user‚Äôs session cookies are sent automatically and the documents download without a 403 error.</small></p>
</div>
</body>
</html>
